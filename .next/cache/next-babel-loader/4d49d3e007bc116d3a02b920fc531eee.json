{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Router from 'next/router';\nimport axios from '../../axios-order';\nimport Navbar from '../Navbar';\nimport cookie from 'js-cookie';\nimport { MDBContainer, MDBRow, MDBCol, MDBBtn, MDBCard, MDBCardBody, MDBIcon } from 'mdbreact';\n\nconst Register = () => {\n  const {\n    0: username,\n    1: setUsername\n  } = useState('');\n  const {\n    0: password,\n    1: setPassword\n  } = useState('');\n\n  const handleUsernameChange = event => setUsername(event.target.value);\n\n  const handlePasswordChange = event => setPassword(event.target.value);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const data = {\n      username,\n      password\n    };\n    axios.post('/register', data).then(response => {\n      if (response.data) {\n        cookie.set('token', response.data.token);\n        cookie.set('user', _JSON$stringify(response.data.user));\n        Router.push('/campgrounds');\n      } else {\n        console.log('Register Error');\n      }\n    }).catch(error => {\n      console.log(error.response);\n    });\n  };\n\n  if (cookie.get('token')) {\n    Router.push('/campgrounds');\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Navbar, null), __jsx(MDBContainer, null, __jsx(MDBRow, {\n    className: \"d-flex justify-content-center pb-5 my-5\"\n  }, __jsx(MDBCol, {\n    sm: \"12\",\n    md: \"8\",\n    lg: \"6\"\n  }, __jsx(MDBCard, null, __jsx(MDBCardBody, null, __jsx(\"form\", {\n    onSubmit: handleSubmit\n  }, __jsx(\"p\", {\n    className: \"h4 text-center py-2\"\n  }, \"Register\"), __jsx(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    placeholder: \"Username\",\n    value: username,\n    onChange: handleUsernameChange,\n    required: true\n  }), __jsx(\"br\", null), __jsx(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    placeholder: \"Password\",\n    value: password,\n    onChange: handlePasswordChange,\n    required: true\n  }), __jsx(\"div\", {\n    className: \"text-center py-4 mt-3\"\n  }, __jsx(MDBBtn, {\n    className: \"btn btn-outline-purple\",\n    type: \"submit\"\n  }, \"Submit\", __jsx(MDBIcon, {\n    far: true,\n    icon: \"paper-plane\",\n    className: \"ml-2\"\n  }))))))))));\n};\n\nexport default Register;","map":{"version":3,"sources":["/home/dolapo/yelpcamp-nextjs-tsc/src/components/Form/Register.tsx"],"names":["React","useState","Router","axios","Navbar","cookie","MDBContainer","MDBRow","MDBCol","MDBBtn","MDBCard","MDBCardBody","MDBIcon","Register","username","setUsername","password","setPassword","handleUsernameChange","event","target","value","handlePasswordChange","handleSubmit","preventDefault","data","post","then","response","set","token","user","push","console","log","catch","error","get"],"mappings":"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","sourcesContent":["import React, { useState, SyntheticEvent } from 'react';\nimport Router from 'next/router';\nimport axios from '../../axios-order';\nimport Navbar from '../Navbar';\nimport cookie from 'js-cookie';\nimport Link from 'next/link';\nimport {\n  MDBContainer,\n  MDBRow,\n  MDBCol,\n  MDBBtn,\n  MDBCard,\n  MDBCardBody,\n  MDBIcon,\n} from 'mdbreact';\n\nconst Register = (): JSX.Element => {\n  const [username, setUsername] = useState<string>('');\n  const [password, setPassword] = useState<string>('');\n\n  const handleUsernameChange = (event: React.ChangeEvent<HTMLInputElement>) =>\n    setUsername(event.target.value);\n  const handlePasswordChange = (event: React.ChangeEvent<HTMLInputElement>) =>\n    setPassword(event.target.value);\n\n  const handleSubmit = (event: SyntheticEvent) => {\n    event.preventDefault();\n    const data = {\n      username,\n      password,\n    };\n    axios\n      .post('/register', data)\n      .then(response => {\n        if (response.data) {\n          cookie.set('token', response.data.token);\n          cookie.set('user', JSON.stringify(response.data.user));\n          Router.push('/campgrounds');\n        } else {\n          console.log('Register Error');\n        }\n      })\n      .catch(error => {\n        console.log(error.response);\n      });\n  };\n\n  if (cookie.get('token')) {\n    Router.push('/campgrounds');\n  }\n\n  return (\n    <>\n      <Navbar />\n      <MDBContainer>\n        <MDBRow className=\"d-flex justify-content-center pb-5 my-5\">\n          <MDBCol sm=\"12\" md=\"8\" lg=\"6\">\n            <MDBCard>\n              <MDBCardBody>\n                <form onSubmit={handleSubmit}>\n                  <p className=\"h4 text-center py-2\">Register</p>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    placeholder=\"Username\"\n                    value={username}\n                    onChange={handleUsernameChange}\n                    required\n                  />\n                  <br />\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    placeholder=\"Password\"\n                    value={password}\n                    onChange={handlePasswordChange}\n                    required\n                  />\n                  <div className=\"text-center py-4 mt-3\">\n                    <MDBBtn className=\"btn btn-outline-purple\" type=\"submit\">\n                      Submit\n                      <MDBIcon far icon=\"paper-plane\" className=\"ml-2\" />\n                    </MDBBtn>\n                  </div>\n                </form>\n              </MDBCardBody>\n            </MDBCard>\n          </MDBCol>\n        </MDBRow>\n      </MDBContainer>\n    </>\n  );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}